\chapter{Технологический раздел}

\section{Требования к разрабатываемой программе}

Разрабатываемое программное обеспечение должно удовлетворять следующим требованиям:
\begin{enumerate}[leftmargin=1.6\parindent]
	\item поддержка запросов \texttt{GET} и \texttt{HEAD};
	\item поддержка статусов 200, 403, 404 и 405 (на неподдерживаемые запросы);
	\item поддержка корректной передачи файлов размером до 128 Мб;
	\item возврат по умолчанию html-страницы с css-стилем;
	\item запись информации о событиях;
	\item минимальные требования к безопасности серверов статического содержимого.
\end{enumerate}

В качестве языка программирования для реализации веб-сервера был выбрал язык C.
В качестве среды для разработки была выбрана среда CLion~\cite{c, clion}.

\clearpage
\section{Реализация веб-сервера}

Реализация функции логирования представлена в листинге~\ref{lst:server1.c}.
\includelisting
	{server1.c}
	{Реализация функции логирования}

Реализация функции добавления задачи в очередь представлена в листинге~\ref{lst:server2.c}.
\includelisting
	{server2.c}
	{Реализация функции добавления задачи в очередь}

\clearpage
Реализация функции удаления задачи из очереди представлена в листинге~\ref{lst:server3.c}.
\includelisting
	{server3.c}
	{Реализация функции удаления задачи в очередь}

Реализация функции отправки ответа представлена в листинге~\ref{lst:server4.c}.
\includelisting
	{server4.c}
	{Реализация функции отправки ответа}

\clearpage
Реализация цикла обработки клиентов представлена в листинге~\ref{lst:server5.c}.
\includelisting
	{server5.c}
	{Реализация цикла обработки клиентов}

\section{Примеры работы программы}

На рисунке~\ref{img:get} представлен пример ответа на \texttt{GET}-запрос.
\includeimage
	{get}
	{f}
	{H}
	{1\textwidth}
	{Пример ответа на \texttt{GET}-запрос}

\clearpage
На рисунке~\ref{img:head} представлен пример ответа на \texttt{HEAD}-запрос.
\includeimage
	{head}
	{f}
	{H}
	{1\textwidth}
	{Пример ответа на \texttt{HEAD}-запрос}

На рисунке~\ref{img:not_found} представлен пример ответа на \texttt{GET}-запрос несуществующего файла.
\includeimage
	{not_found}
	{f}
	{H}
	{1\textwidth}
	{Пример ответа на \texttt{GET}-запрос несуществующего файла}

На рисунке~\ref{img:not_allowed} представлен пример ответа на неразрешенный \texttt{POST}-запрос.
\includeimage
	{not_allowed}
	{f}
	{H}
	{1\textwidth}
	{Пример ответа на неразрешенный \texttt{POST}-запрос}

\clearpage
На рисунке~\ref{img:forbidden} представлен пример ответа на \texttt{GET}-запрос без прав на доступ.
\includeimage
	{forbidden}
	{f}
	{H}
	{1\textwidth}
	{Пример ответа на \texttt{GET}-запрос без прав на доступ}

На рисунке~\ref{img:log} представлен пример логирования событий в системе.
\includeimage
	{log}
	{f}
	{H}
	{1\textwidth}
	{Пример логирования событий в системе}